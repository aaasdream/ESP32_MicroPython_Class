<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœˆçƒç’°ç¹åœ°çƒ</title>
    <style>
        /* CSS æ¨£å¼ (å¤§éƒ¨åˆ†ä¸è®Š) */

        /* 1. åŸºæœ¬è¨­å®šèˆ‡æ·±è‰²èƒŒæ™¯ */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #0c0c1a;
            cursor: none;
        }

        /* 2. æ˜Ÿæ˜Ÿçš„å®¹å™¨ */
        #star-container {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1; 
        }

        /* 3. å–®é¡†æ˜Ÿæ˜Ÿçš„æ¨£å¼ */
        .star {
            position: absolute;
            color: white;
            animation-name: twinkle;
            animation-iteration-count: infinite;
            animation-timing-function: ease-in-out;
            animation-direction: alternate;
        }

        /* 4. æ˜Ÿæ˜Ÿé–ƒçˆçš„é—œéµå½±æ ¼å‹•ç•« */
        @keyframes twinkle {
            0% { opacity: 0.2; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1.2); }
        }

        /* 5. æœˆçƒçš„æ¨£å¼ */
        #moon {
            position: absolute;
            width: 200px;
            height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 160px; 
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 15; 
        }

        /* 6. åœ°çƒçš„æ¨£å¼ */
        #earth {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 250px;
            z-index: 10;
            animation: spin 60s linear infinite;
        }

        /* 7. åœ°çƒæ—‹è½‰çš„é—œéµå½±æ ¼å‹•ç•« */
        @keyframes spin {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        /* --- ã€æ–°å¢ CSSã€‘ --- */

        /* 8. å¤ªç©ºäººçš„æ¨£å¼ */
        .robot {
            position: absolute;
            width: 100px;
            height: 100px;
            /* è®“åœ–ç‰‡å…§å®¹å¡«æ»¿å®¹å™¨ */
            object-fit: contain; 
            /* è®“é»æ“Šäº‹ä»¶ç©¿é€ï¼Œé¿å…å½±éŸ¿æœˆçƒç™¼å°„ */
            pointer-events: none; 
             /* åˆå§‹ç½®ä¸­ï¼ŒJS æœƒå†èª¿æ•´ä½ç½® */
            transform: translate(-50%, -50%);
            /* åœ–å±¤è¨­å®šåœ¨æœˆçƒå’Œåœ°çƒä¹‹é–“ */
            z-index: 12; 
            /* å¥—ç”¨æ—‹è½‰å‹•ç•« */
            animation: spin-robot 15s linear infinite;
        }

        /* 9. å¤ªç©ºäººæ—‹è½‰çš„é—œéµå½±æ ¼å‹•ç•« */
        @keyframes spin-robot {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
    </style>
</head>
<body>

    <!-- å®¹å™¨é †åºä¸å½±éŸ¿ z-index çš„æœ€çµ‚çµæœ -->
    <div id="star-container"></div>
    <div id="earth"></div>
    <div id="moon"></div>

    <!-- å¤ªç©ºäººæœƒç”± JS å‹•æ…‹æ–°å¢åˆ° body ä¸­ -->

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            
            // --- æ˜Ÿç©ºç”¢ç”Ÿé‚è¼¯ (ä¸è®Š) ---
            const starContainer = document.getElementById('star-container');
            const numStars = 250;
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.textContent = 'â€¢';
                star.style.top = `${Math.random() * 100}vh`;
                star.style.left = `${Math.random() * 100}vw`;
                star.style.fontSize = `${Math.random() * 3 + 1}px`;
                star.style.animationDuration = `${Math.random() * 4 + 3}s`;
                star.style.animationDelay = `${Math.random() * 5}s`;
                starContainer.appendChild(star);
            }

            // --- æŠ“å–æœˆçƒå’Œåœ°çƒçš„å…ƒç´  (ä¸è®Š) ---
            const moon = document.getElementById('moon');
            const earth = document.getElementById('earth');
            earth.textContent = 'ğŸŒ';

            // --- æœˆç›¸è®Šæ›é‚è¼¯ (ä¸è®Š) ---
            const moonPhases = ['ğŸŒ‘', 'ğŸŒ’', 'ğŸŒ“', 'ğŸŒ”', 'ğŸŒ•', 'ğŸŒ–', 'ğŸŒ—', 'ğŸŒ˜'];
            let currentPhaseIndex = 0;
            setInterval(() => {
                moon.textContent = moonPhases[currentPhaseIndex];
                currentPhaseIndex = (currentPhaseIndex + 1) % moonPhases.length;
            }, 200);

            // --- ã€æ ¸å¿ƒä¿®æ”¹ã€‘è®“æœˆçƒè·Ÿéš¨æ»‘é¼ ã€ç™¼å°„ã€ç¢°æ’èˆ‡è¿”å› (å¤§éƒ¨åˆ†ä¸è®Š) ---
            
            let isLaunched = false;
            let lastMousePos = { x: window.innerWidth / 2, y: window.innerHeight / 2 };
            let moonVelocity = { x: 0, y: 0 };
            let animationFrameId = null;
            const LAUNCH_SPEED_MULTIPLIER = 1.5;

            function flyMoon() {
                if (!isLaunched) return;
                let currentX = parseFloat(moon.style.left);
                let currentY = parseFloat(moon.style.top);
                const moonWidth = moon.offsetWidth;
                const moonHeight = moon.offsetHeight;
                
                let newX = currentX + moonVelocity.x;
                let newY = currentY + moonVelocity.y;

                // é€™è£¡çš„é‚Šç•Œç¢°æ’æª¢æ¸¬ï¼Œæœˆçƒæ˜¯ç”¨ transform(-50%,-50%) ç½®ä¸­çš„ï¼Œ
                // æ‰€ä»¥å®ƒçš„ left/top æ˜¯æŒ‡ä¸­å¿ƒé»ï¼Œè€Œä¸æ˜¯å·¦ä¸Šè§’ã€‚
                // ç‚ºäº†ç°¡åŒ–ï¼Œæˆ‘å€‘ç”¨ä¸­å¿ƒé»ä¾†åšé‚Šç•Œåˆ¤æ–·ã€‚
                if (newX - moonWidth/2 <= 0 || newX + moonWidth/2 >= window.innerWidth) {
                    moonVelocity.x *= -1; 
                }
                if (newY - moonHeight/2 <= 0 || newY + moonHeight/2 >= window.innerHeight) {
                    moonVelocity.y *= -1; 
                }

                moon.style.left = `${newX}px`;
                moon.style.top = `${newY}px`;
                animationFrameId = requestAnimationFrame(flyMoon);
            }

            window.addEventListener('mousemove', function(event) {
                if (isLaunched) return;
                const currentMouseX = event.clientX;
                moon.style.left = `${currentMouseX}px`;
                moon.style.top = `${event.clientY}px`;
                if (currentMouseX > lastMousePos.x) {
                    moon.style.zIndex = '5';
                } else if (currentMouseX < lastMousePos.x) {
                    moon.style.zIndex = '15';
                }
                moonVelocity.x = (event.clientX - lastMousePos.x);
                moonVelocity.y = (event.clientY - lastMousePos.y);
                lastMousePos.x = event.clientX;
                lastMousePos.y = event.clientY;
            });

            // --- 5. æ–°å¢æ»‘é¼ å³éµé»æ“Šäº‹ä»¶ (ä¸è®Š) ---
            window.addEventListener('contextmenu', function(event) {
                event.preventDefault();
                if (isLaunched) {
                    isLaunched = false;
                    cancelAnimationFrame(animationFrameId);
                    moon.style.left = `${event.clientX}px`;
                    moon.style.top = `${event.clientY}px`;
                    lastMousePos.x = event.clientX;
                    lastMousePos.y = event.clientY;
                }
            });

            
            // --- ã€å…¨æ–°é‚è¼¯ã€‘å¤ªç©ºäººå‰µå»ºã€ç§»å‹•èˆ‡ç¢°æ’ ---
            
            // 1. å»ºç«‹ä¸€å€‹é™£åˆ—ä¾†å„²å­˜æ‰€æœ‰å¤ªç©ºäººç‰©ä»¶
            let robots = [];
            const ROBOT_SPEED = 3; // å¤ªç©ºäººåŸºç¤é€Ÿåº¦

            // 2. å‰µå»ºä¸€å€‹ä¸»å‹•ç•«å¾ªç’°ä¾†æ›´æ–°æ‰€æœ‰å¤ªç©ºäºº
            function updateRobots() {
                const moonRect = moon.getBoundingClientRect(); // ç²å–æœˆçƒç•¶å‰çš„ä½ç½®å’Œå¤§å°

                // éæ­·æ‰€æœ‰å¤ªç©ºäºº
                robots.forEach(robot => {
                    // æ›´æ–°ä½ç½®
                    robot.x += robot.vx;
                    robot.y += robot.vy;

                    // é‚Šç•Œç¢°æ’æª¢æ¸¬
                    // æª¢æŸ¥å·¦å³é‚Šç•Œ
                    if (robot.x - 50 <= 0 || robot.x + 50 >= window.innerWidth) {
                        robot.vx *= -1; // Xè»¸é€Ÿåº¦åå‘
                    }
                    // æª¢æŸ¥ä¸Šä¸‹é‚Šç•Œ
                    if (robot.y - 50 <= 0 || robot.y + 50 >= window.innerHeight) {
                        robot.vy *= -1; // Yè»¸é€Ÿåº¦åå‘
                    }

                    // èˆ‡æœˆçƒçš„ç¢°æ’æª¢æ¸¬
                    const robotRect = robot.element.getBoundingClientRect();
                    // ä½¿ç”¨ AABB (Axis-Aligned Bounding Box) ç¢°æ’æª¢æ¸¬æ¼”ç®—æ³•
                    if (
                        robotRect.left < moonRect.right &&
                        robotRect.right > moonRect.left &&
                        robotRect.top < moonRect.bottom &&
                        robotRect.bottom > moonRect.top
                    ) {
                        // ç¢°æ’ç™¼ç”Ÿï¼è®“å¤ªç©ºäººåå½ˆ
                        // ä¸€å€‹ç°¡å–®çš„åå½ˆæ˜¯ç›´æ¥åè½‰é€Ÿåº¦
                        robot.vx *= -1.1; // å¢åŠ ä¸€é»é€Ÿåº¦ï¼Œçœ‹èµ·ä¾†æ›´æœ‰åŠ›
                        robot.vy *= -1.1;

                        // ç‚ºé¿å…å¡ä½ï¼Œå°‡å¤ªç©ºäººç¨å¾®ç§»é–‹æœˆçƒ
                        robot.x += robot.vx * 3;
                        robot.y += robot.vy * 3;
                    }

                    // æ›´æ–° DOM å…ƒç´ çš„ä½ç½®
                    robot.element.style.left = `${robot.x}px`;
                    robot.element.style.top = `${robot.y}px`;
                });

                // è«‹æ±‚ä¸‹ä¸€å¹€å‹•ç•«
                requestAnimationFrame(updateRobots);
            }

            // 3. ä¿®æ”¹æ»‘é¼ å·¦éµé»æ“Šäº‹ä»¶ (åŒæ™‚ç™¼å°„æœˆçƒ & å‰µå»ºå¤ªç©ºäºº)
            window.addEventListener('mousedown', function(event) {
                // event.button === 0 ä»£è¡¨æ»‘é¼ å·¦éµ
                if (event.button === 0) {
                    
                    // --- ç™¼å°„æœˆçƒçš„é‚è¼¯ (åªåœ¨æœªç™¼å°„æ™‚è§¸ç™¼) ---
                    if (!isLaunched) {
                        isLaunched = true;
                        moonVelocity.x *= LAUNCH_SPEED_MULTIPLIER;
                        moonVelocity.y *= LAUNCH_SPEED_MULTIPLIER;
                        flyMoon();
                    }

                    // --- å‰µå»ºå¤ªç©ºäººçš„é‚è¼¯ (æ¯æ¬¡é»æ“Šéƒ½è§¸ç™¼) ---
                    const robotEl = document.createElement('img');
                    robotEl.src = './robot.png'; // ç¢ºä¿ robot.png åœ–ç‰‡èˆ‡æ­¤ html åœ¨åŒä¸€å€‹è³‡æ–™å¤¾
                    robotEl.className = 'robot';
                    
                    // å‰µå»ºä¸€å€‹ç‰©ä»¶ä¾†ç®¡ç†å¤ªç©ºäººçš„ç‹€æ…‹
                    const robotObj = {
                        element: robotEl,
                        x: event.clientX, // åˆå§‹ä½ç½®ç‚ºæ»‘é¼ é»æ“Šè™•
                        y: event.clientY,
                        // çµ¦äºˆä¸€å€‹éš¨æ©Ÿçš„åˆå§‹é€Ÿåº¦å‘é‡
                        vx: (Math.random() - 0.5) * ROBOT_SPEED,
                        vy: (Math.random() - 0.5) * ROBOT_SPEED,
                    };
                    
                    // å¦‚æœåˆå§‹é€Ÿåº¦å¤ªæ…¢ï¼Œçµ¦å®ƒä¸€å€‹æœ€ä½é€Ÿåº¦ï¼Œé¿å…åŸåœ°ä¸å‹•
                    if (Math.abs(robotObj.vx) < 1) robotObj.vx = Math.sign(robotObj.vx) || 1;
                    if (Math.abs(robotObj.vy) < 1) robotObj.vy = Math.sign(robotObj.vy) || 1;

                    // å°‡å¤ªç©ºäººå…ƒç´ æ·»åŠ åˆ°ç¶²é ä¸­
                    document.body.appendChild(robotEl);
                    // å°‡å¤ªç©ºäººç‰©ä»¶æ·»åŠ åˆ°ç®¡ç†é™£åˆ—ä¸­
                    robots.push(robotObj);
                }
            });

            // 4. å•Ÿå‹•å¤ªç©ºäººçš„ä¸»å‹•ç•«å¾ªç’°
            updateRobots();

        });
    </script>

</body>
</html>